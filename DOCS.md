## OStRTA

Данная программа реализует три функции взаимодействующих с конечными устройствами: включение, выключение, листинг.
На вход программе поступает один из четырех ключей:
  *  `W` - инициализация функции WakeOnLan(),
  *  `S` - инициализация функции SendShutdown(),
  *  `L` - инициализация функции WhoIsOnline(),
  *  `H` - получение справочной информации о программе.

Так же на вход может подаваться опциональный аргемент: конфигурационный файл, предстваленный в виде `hostname  MAC-адрес`
Если передан неверный ключ или конфигурационный файл, то программа аварийно завершается с соответствующим кодом ошибки, в противном случае, программа продолжает работу в штатном режиме, выполняя указанную функцию.

### WakeOnLan()
```bash
PROBE_PING=`ping -s 1 -c 2 $hostname &> /dev/null; echo $?`
...
ether-wake -i enp3s0 $addr
```

Функция, реализующая удаленное пробуждение конечных устройств по сети с помощью одноименной технологии Wake-On-LAN.
Данная функция оперирует списком адресов, поданных на вход программе. Изначально проводится проверка включено ли конечное устройство с помощью базовой ICMP-утилиты `ping`. Если проверяемое устройство выключено, то на соответствующий MAC-адрес отправляется `magic` пакет с помощью утилиты `ether-wake` (RH/Debian/CentOS). После того, как все пакеты были отосланы, программа уходит в ожидание на одну минуту для того, чтобы все устройства окончательно включились. По окончанию ожидания, проводится повторная проверка с помощью `ping`.
В случае неудачи (отсутсвие соединения с устройством, неправильная настройка BIOS/OS), ошибка записывается  лог-файл, с указанием времени и имени конечного устройсва, которое не включилось.


### SendShutdown()
```bash
PROBE_PING=`ping -s 1 -c 2 $hostname &> /dev/null; echo $?`
...
WhoIs=$(ssh -n -o "BatchMode=yes" -o "ConnectTimeout=1" -o "StrictHostKeyChecking=no" $hostname who 2> /dev/null | awk '{print $1;}')
...
ssh -n -o "BatchMode=yes" -o "ConnectTimeout=1" -o "StrictHostKeyChecking=no" $hostname shutdown 0 >& /dev/null
```

Функция, реализующая удаленное выключение конечных устройств по сети с помощью установления SSH-соединения.
Данная функция оперирует списком адресов, поданных на вход программе. Изначально проводится проверка выключено ли конечное устройство с помощью базовой ICMP-утилиты `ping`. Если проверяемое устройство включено, то устанавливается SSH-соединение с устройиством, затем выполняется команда `shutdown 0`. После того, как все устройства были обработаны, проводится повторная проверка с помощью `ping`.
В случае неудачи (отсутсвие соединения с устройством, неправильная настройка SSH), ошибка записывается  лог-файл, с указанием времени и имени конечного устройсва, которое не выключилось.
Так же в отдельный лог-файл записывается логин последнего авторизованного пользователя на выключаемом конечном устройстве.


### WhoIsOnline()
```bash
PROBE_PING=`ping -s 1 -c 2 $hostname &> /dev/null; echo $?`
...
WhoIs=$(ssh -n -o "BatchMode=yes" -o "ConnectTimeout=1" -o "StrictHostKeyChecking=no" $host who 2> /dev/null | awk '{print $1;}')
```

Функция, реализующая опрос конечных устройств по сети с помощью установления SSH-соединения.
Данная функция оперирует списком адресов, поданных на вход программе. Изначально проводится проверка включено ли конечное устройство с помощью базовой ICMP-утилиты `ping`, а так же их подсчет. Если проверяемое устройство включено, то устанавливается SSH-соединение с устройиством, затем выполняется команда `who`. После того, как все устройства были обработаны, На экран выводится список включенных конечных устройств и пользователей, авторизованных на них.

---

## Health Check
### RAM_INFO()
### CPI_INFO()
### NET_INFO()
### MNT_INFO()
### SRV_INFO()
### DEV_INFO()
### SYNC_LOG()
